(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{334:function(e,t,a){e.exports=a(860)},339:function(e,t,a){},340:function(e,t,a){},860:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),i=a(17),r=a.n(i),s=(a(339),a(340),a(295)),o=a(296),c=a(307),d=a(297),m=a(308),u=a(55),p=a.n(u),f=a(23),h=a.n(f),g=a(25),E=a.n(g),b=a(176),v=a.n(b),y=a(177),C=a.n(y),T=a(114),x=a.n(T),w=a(20),D=a(84),k=a.n(D),R=(a(478),a(549),a(33)),S=a(85),I=a.n(S),N=a(115),L=a(15),O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).getCookie=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),n=0;n<a.length;n++){var l=a[n].trim();if(l.substring(0,e.length+1)===e+"="){t=decodeURIComponent(l.substring(e.length+1));break}}return t},a.buildDictionaryBarData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.setState({loading:!0});var n=e.map(function(e){return{name:e.id,Kalt:e.counters.Kalt,Warm:e.counters.Warm}});t?a.setState({secondDictionaryBarData:n,loading:!1}):a.setState({dictionaryBarData:n,loading:!1})},a.buildTopicBarData=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a.setState({loading:!0});var l={"topic-datasets":{}},i=Object.keys(e).length,r=new Array(i);for(var s in e)r[e[s].position]=s;l["entry-names"]=r;var o=[];for(var c in t){o.push(c);var d=new Array(i+1).join("0").split("").map(parseInt);for(var m in r){var u=e[r[m]].topic_probabilities[c];d[m]=u}l["topic-datasets"][c]=d}o.sort(),l["topic-list"]=o,n?a.setState({secondTopicbarData:l,loading:!1},function(){a.paint_topicbars(!0),a.paint_topicbars()}):a.setState({topicbarData:l,loading:!1},function(){a.paint_topicbars()})},a.paint_topicbars=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?I()("#lda-second-topic-bars").empty():I()("#lda-topic-bars").empty();var t=e?a.state.secondTopicbarData:a.state.topicbarData,n=t["topic-list"],l=t["topic-datasets"],i=t["entry-names"],r=e?a.state.secondLdaResult.topics:a.state.ldaResult.topics,s=i;for(var o in s.push("undefined"),n){var c,d=n[o];if(e)(c=I()(".lda-second-topic-bar-template").clone()).toggleClass("lda-second-topic-bar-template lda-second-topic-bar template"),c.attr("id","second"+d+"_entries_distri"),c.find(".lda-second-topic-bar-name").text(d),c.find(".lda-second-topic-bar-name").attr("title",r[d].top_words.join()),c.appendTo("#lda-second-topic-bars");else(c=I()(".lda-topic-bar-template").clone()).toggleClass("lda-topic-bar-template lda-topic-bar template"),c.attr("id",d+"_entries_distri"),c.find(".lda-topic-bar-name").text(d),c.find(".lda-topic-bar-name").attr("title",r[d].top_words.join()),c.appendTo("#lda-topic-bars");var m=c.width(),u=200,p=R.scale.linear().domain([0,l[d].length]).range([0,m]),f=R.scale.ordinal().domain(s).rangePoints([0,m]),h=R.scale.linear().domain([0,1]).range([0,150]),g=R.scale.linear().domain([0,R.max(l[d],function(e){return e})]).range([0,200]),E=R.select("#"+c.attr("id")).append("svg").attr("width",m).attr("height",u);E.selectAll("rect").data(l[d]).enter().append("rect").attr("x",function(e,t){return p(t)}).attr("y",function(e){return 150-h(e)}).attr("width",m/l[d].length-1).attr("height",function(e){return h(e)}).attr("fill",function(e){return"rgb(0, "+parseInt(g(e))+", 0)"});var b=R.format(".1%");E.selectAll("text").data(l[d]).enter().append("text").text(function(e){return e>.15?b(e):""}).attr("x",function(e,t){return t*(m/l[d].length)+(m/l[d].length-1)/2}).attr("y",function(e){return 150-h(e)+10}).attr("font-family","sans-serif").attr("font-size","10px").attr("fill","white").attr("text-anchor","middle");var v=R.svg.axis().scale(f).orient("bottom");E.append("g").attr("class","axis").attr("transform","translate("+(m/l[d].length-1)/2+",152)").call(v)}},a.startAnalysis=function(){a.setState({loading:!0});var e={headers:{"X-CSRFToken":a.getCookie("csrftoken")}};x.a.post("start-analysis/",{chosenCaseId:a.state.chosenCaseId,start:a.state.start,end:a.state.end,config:a.state.ldaConfig},e).then(function(e){return a.setState({comments:e.data.hours,ldaResult:e.data.lda_result,dictionaryResult:e.data.dictionary_result,loading:!1},function(){a.buildTopicBarData(a.state.ldaResult.entries,a.state.ldaResult.topics),a.buildDictionaryBarData(a.state.dictionaryResult)})}).catch(function(e){a.setState({loading:!1}),alert(e)})},a.startSecondAnalysis=function(){a.setState({loading:!0});var e={headers:{"X-CSRFToken":a.getCookie("csrftoken")}};x.a.post("start-analysis/",{chosenCaseId:a.state.secondCaseId,start:a.state.start,end:a.state.end,config:a.state.ldaConfig},e).then(function(e){return a.setState({comments:a.state.comments.concat(e.data.hours),second:!0,secondLdaResult:e.data.lda_result,secondDictionaryResult:e.data.dictionary_result,loading:!1},function(){a.buildTopicBarData(a.state.secondLdaResult.entries,a.state.secondLdaResult.topics,!0),a.buildDictionaryBarData(a.state.secondDictionaryResult,!0)})}).catch(function(e){a.setState({loading:!1}),alert(e)})},a.setConfig=function(e,t){var n=a.state.ldaConfig;n[e]=t,a.setState({ldaConfig:n})},a.state={caseIdOptions:[],chosenCaseId:null,secondCaseId:null,start:"2016-01-01",end:"2016-08-15",ldaConfig:{numberOfTopics:3,dirichletAlpha:.1,dirichletEta:.01,numberOfIterations:1500,randomSeed:1,numberOfDisplayedTopTopics:3,displayedTopicsTopWords:8,removeHighFrequentWords:.6,ignoreCapitalization:!1,removeNumbers:!0,stemming:!1,removeStopwords:!1,minimalWordLength:2,timespan:14,selectedTab:"lda"},comments:[],ldaResult:null,secondldaResult:null,dictionaryResult:null,secondDictionaryResult:null,loading:!1,topicbarData:{},secondTopicbarData:{},dictionaryBarData:{},secondDictionaryBarData:{},second:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;x.a.get("distinct-project-ids/").then(function(t){return e.setState({caseIdOptions:t.data.project_ids},function(){e.setState({chosenCaseId:3,secondCaseId:7})})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement(p.a,{floatingLabelText:"Fall-ID",onChange:function(t,a,n){e.setState({chosenCaseId:n})},value:this.state.chosenCaseId,style:{float:"left",marginLeft:"20px",marginRight:"20px"}},this.state.caseIdOptions.map(function(e){return l.a.createElement(E.a,{primaryText:e,value:e})})),l.a.createElement(p.a,{floatingLabelText:"Vergleichsfall",onChange:function(t,a,n){e.setState({secondCaseId:n})},value:this.state.secondCaseId,style:{float:"left",marginLeft:"20px",marginRight:"20px"}},this.state.caseIdOptions.map(function(e){return l.a.createElement(E.a,{primaryText:e,value:e})})),l.a.createElement(C.a,{hintText:"Startdatum",defaultDate:new Date("01-01-2016"),onChange:function(t,a){e.setState({start:k()(a).format("YYYY-MM-DD")})}}),l.a.createElement(C.a,{hintText:"Enddatum",defaultDate:new Date("08-15-2016"),onChange:function(t,a){e.setState({end:k()(a).format("YYYY-MM-DD")})}}),l.a.createElement(h.a,{floatingLabelText:"Anzahl der zusammenzufassenden Tage",onChange:function(t,a){e.setConfig("timespan",a)},value:this.state.ldaConfig.timespan}),l.a.createElement(v.a,{style:{marginTop:"20px",width:"100%"},disabled:this.state.loading,label:this.state.loading?"Warte auf Antwort...":"Analyse starten",onClick:function(){e.startAnalysis()}}),l.a.createElement(v.a,{style:{marginTop:"20px",width:"100%"},disabled:this.state.loading,label:this.state.loading?"Warte auf Antwort...":"Vergleichsfall analysieren",onClick:function(){e.startSecondAnalysis()}})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement(h.a,{floatingLabelText:"Anzahl der Themen",onChange:function(t,a){e.setConfig("numberOfTopics",a)},value:this.state.ldaConfig.numberOfTopics}),l.a.createElement(h.a,{floatingLabelText:"Dirichlet Alpha",onChange:function(t,a){e.setConfig("dirichletAlpha",a)},value:this.state.ldaConfig.dirichletAlpha}),l.a.createElement(h.a,{floatingLabelText:"Dirichlet Eta",onChange:function(t,a){e.setConfig("dirichletEta",a)},value:this.state.ldaConfig.dirichletEta}),l.a.createElement(h.a,{floatingLabelText:"Anzahl der Iterationen",onChange:function(t,a){e.setConfig("numberOfIterations",a)},value:this.state.ldaConfig.numberOfIterations})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement(h.a,{floatingLabelText:"Anzahl der dargestellten Top-Themen",onChange:function(t,a){e.setConfig("numberOfDisplayedTopTopics",a)},value:this.state.ldaConfig.numberOfDisplayedTopTopics}),l.a.createElement(h.a,{floatingLabelText:"Anzahl der dargestellten Top-W\xf6rter",onChange:function(t,a){e.setConfig("displayedTopicsTopWords",a)},value:this.state.ldaConfig.displayedTopicsTopWords}),l.a.createElement(p.a,{floatingLabelText:"Stammwortreduktion",onChange:function(t,a,n){e.setConfig("stemming",n)},value:this.state.ldaConfig.stemming},l.a.createElement(E.a,{primaryText:"Ja",value:!0}),l.a.createElement(E.a,{primaryText:"Nein",value:!1})),l.a.createElement(p.a,{floatingLabelText:"Stoppwortreduktion",onChange:function(t,a,n){e.setConfig("removeStopwords",n)},value:this.state.ldaConfig.removeStopwords},l.a.createElement(E.a,{primaryText:"Ja",value:!0}),l.a.createElement(E.a,{primaryText:"Nein",value:!1}))),l.a.createElement("div",{className:"col-md-3"},l.a.createElement(h.a,{floatingLabelText:"Frequenz der zu entfernenden hoch-frequenten W\xf6rter",onChange:function(t,a){e.setConfig("removeHighFrequentWords",a)},value:this.state.ldaConfig.removeHighFrequentWords}),l.a.createElement(p.a,{floatingLabelText:"Gro\xdf-Kleinschreibung ignorieren",onChange:function(t,a,n){e.setConfig("ignoreCapitalization",n)},value:this.state.ldaConfig.ignoreCapitalization},l.a.createElement(E.a,{primaryText:"Ja",value:!0}),l.a.createElement(E.a,{primaryText:"Nein",value:!1})),l.a.createElement(p.a,{floatingLabelText:"Zahlen entfernen",onChange:function(t,a,n){e.setConfig("removeNumbers",n)},value:this.state.ldaConfig.removeNumbers},l.a.createElement(E.a,{primaryText:"Ja",value:!0}),l.a.createElement(E.a,{primaryText:"Nein",value:!1})),l.a.createElement(h.a,{floatingLabelText:"Minimale Wortl\xe4nge",onChange:function(t,a){e.setConfig("minimalWordLength",a)},value:this.state.ldaConfig.minimalWordLength}))),l.a.createElement("hr",null),l.a.createElement(N.Tabs,{onChange:function(t){e.setState({selectedTab:t})}},l.a.createElement(N.Tab,{label:"LDA",value:"lda",onActive:function(){e.setState({selectedTab:"lda"})}},this.state.second?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{style:{minHeight:"350px"}},this.state.ldaResult&&this.state.ldaResult.topics?Object.keys(this.state.ldaResult.topics).map(function(t){return l.a.createElement("div",null,t,":",l.a.createElement("ul",null,e.state.ldaResult.topics[t].top_words.map(function(e){return"".concat(e,", ")})))}):l.a.createElement("div",null)),l.a.createElement("div",null,l.a.createElement("div",{id:"lda-topic-bars",className:"col-xs-12 empty_on_reset"}),l.a.createElement("div",{className:"lda-topic-bar-template col-xs-12 template panel panel-default"},l.a.createElement("strong",null,l.a.createElement("span",{className:"lda-topic-bar-name col-xs-12","data-toggle":"tooltip","data-placement":"top",title:""}))))),l.a.createElement("hr",null),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{style:{minHeight:"350px"}},this.state.secondLdaResult&&this.state.secondLdaResult.topics?Object.keys(this.state.secondLdaResult.topics).map(function(t){return l.a.createElement("div",null,t,":",l.a.createElement("ul",null,e.state.secondLdaResult.topics[t].top_words.map(function(e){return"".concat(e,", ")})))}):l.a.createElement("div",null)),l.a.createElement("div",{id:"lda-second-topic-bars",className:"col-xs-12 empty_on_reset"}),l.a.createElement("div",{className:"lda-second-topic-bar-template col-xs-12 template panel panel-default"},l.a.createElement("strong",null,l.a.createElement("span",{className:"lda-second-topic-bar-name col-xs-12","data-toggle":"tooltip","data-placement":"top",title:""})))),l.a.createElement("hr",null)):l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",null,this.state.ldaResult&&this.state.ldaResult.topics?Object.keys(this.state.ldaResult.topics).map(function(t){return l.a.createElement("div",null,t,":",l.a.createElement("ul",null,e.state.ldaResult.topics[t].top_words.map(function(e){return"".concat(e,", ")})))}):l.a.createElement("div",null)),l.a.createElement("div",null,l.a.createElement("div",{id:"lda-topic-bars",className:"col-xs-12 empty_on_reset"}),l.a.createElement("div",{className:"lda-topic-bar-template col-xs-12 template panel panel-default"},l.a.createElement("strong",null,l.a.createElement("span",{className:"lda-topic-bar-name col-xs-12","data-toggle":"tooltip","data-placement":"top",title:""})))))),l.a.createElement(N.Tab,{label:"W\xf6rterbuch",value:"dictionary",onActive:function(){e.setState({selectedTab:"dictionary"})}},this.state.second?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},Object.keys(this.state.dictionaryBarData).length?l.a.createElement(L.b,{width:600,height:400,data:this.state.dictionaryBarData,stackOffset:"sign",margin:{top:5,right:30,left:20,bottom:5}},l.a.createElement(L.c,{strokeDasharray:"3 3"}),l.a.createElement(L.g,{dataKey:"name"}),l.a.createElement(L.h,null),l.a.createElement(L.f,null),l.a.createElement(L.d,null),l.a.createElement(L.e,{y:0,stroke:"#000"}),l.a.createElement(L.a,{dataKey:"Warm",fill:"#F2314B",stackId:"stack"}),l.a.createElement(L.a,{dataKey:"Kalt",fill:"#0F5B94",stackId:"stack"})):l.a.createElement("div",null)),l.a.createElement("div",{className:"col-md-6"},Object.keys(this.state.secondDictionaryBarData).length?l.a.createElement(L.b,{width:600,height:400,data:this.state.secondDictionaryBarData,stackOffset:"sign",margin:{top:5,right:30,left:20,bottom:5}},l.a.createElement(L.c,{strokeDasharray:"3 3"}),l.a.createElement(L.g,{dataKey:"name"}),l.a.createElement(L.h,null),l.a.createElement(L.f,null),l.a.createElement(L.d,null),l.a.createElement(L.e,{y:0,stroke:"#000"}),l.a.createElement(L.a,{dataKey:"Warm",fill:"#F2314B",stackId:"stack"}),l.a.createElement(L.a,{dataKey:"Kalt",fill:"#0F5B94",stackId:"stack"})):l.a.createElement("div",null))):l.a.createElement("div",null,Object.keys(this.state.dictionaryBarData).length?l.a.createElement("div",{className:"center"},l.a.createElement(L.b,{width:600,height:400,data:this.state.dictionaryBarData,stackOffset:"sign",margin:{top:5,right:30,left:20,bottom:5}},l.a.createElement(L.c,{strokeDasharray:"3 3"}),l.a.createElement(L.g,{dataKey:"name"}),l.a.createElement(L.h,null),l.a.createElement(L.f,null),l.a.createElement(L.d,null),l.a.createElement(L.e,{y:0,stroke:"#000"}),l.a.createElement(L.a,{dataKey:"Warm",fill:"#F2314B",stackId:"stack"}),l.a.createElement(L.a,{dataKey:"Kalt",fill:"#0F5B94",stackId:"stack"}))):l.a.createElement("div",null)),l.a.createElement("hr",null))),l.a.createElement("div",{className:"row col-xs-6"},l.a.createElement(w.Table,null,l.a.createElement(w.TableHeader,{displaySelectAll:!1,adjustForCheckbox:!1,enableSelectAll:!1},l.a.createElement(w.TableRow,null,l.a.createElement(w.TableHeaderColumn,{style:{width:"10%"}},"ID"),l.a.createElement(w.TableHeaderColumn,{style:{width:"15%"}},"Start"),l.a.createElement(w.TableHeaderColumn,{style:{width:"15%"}},"Ende"),l.a.createElement(w.TableHeaderColumn,{style:{width:"60%"}},"Eintrag"))),l.a.createElement(w.TableBody,{displayRowCheckbox:!1,deselectOnClickaway:!1,showRowHover:!1,stripedRows:!1},this.state.comments.map(function(e){return l.a.createElement(w.TableRow,null,l.a.createElement(w.TableRowColumn,{style:{width:"10%"}},e.id),l.a.createElement(w.TableRowColumn,{style:{width:"15%"}},k()(e.start).format("DD.MM.YYYY, LT")),l.a.createElement(w.TableRowColumn,{style:{width:"15%"}},k()(e.stop).format("DD.MM.YYYY, LT")),l.a.createElement(w.TableRowColumn,{style:{width:"60%"}},l.a.createElement("span",{onClick:function(){alert(e.comment)}},e.comment)))})))),l.a.createElement("hr",null),l.a.createElement("hr",null))}}]),t}(l.a.Component),A=a(306),B=a.n(A);var _=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(B.a,null,l.a.createElement("header",{className:"App-header"},"Textbasierte Prozessanalyse"),l.a.createElement(O,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[334,1,2]]]);
//# sourceMappingURL=main.3ceb768e.chunk.js.map